apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

resources:
  # Namespaces
  - namespaces/neotool-app.yaml
  - namespaces/neotool-web.yaml
  - namespaces/neotool-data.yaml
  - namespaces/neotool-messaging.yaml
  - namespaces/neotool-storage.yaml
  - namespaces/neotool-security.yaml
  - namespaces/neotool-workflows.yaml
  - namespaces/neotool-observability.yaml

  # Databases
  - databases/postgres-statefulset.yaml
  - databases/pgbouncer-deployment.yaml
  - databases/postgres-exporter-deployment.yaml
  - databases/vault-external-secrets.yaml

  # Kafka
  - kafka/kafka-statefulset.yaml

  # Vault
  - vault/vault-deployment.yaml
  - vault/vault-secret.yaml
  - vault/vault-init-job.yaml

  # Storage
  - storage/minio-deployment.yaml

  # Web
  - web/nextjs-deployment.yaml

  # Router
  - router/apollo-router-deployment.yaml

  # Observability
  - observability/prometheus/deployment.yaml
  - observability/grafana/deployment.yaml
  - observability/loki/loki-statefulset.yaml
  - observability/promtail/promtail-daemonset.yaml
